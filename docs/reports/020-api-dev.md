# 第 20 回 API 開発 2021/12/19 14:00-17:00

[https://javajo.doorkeeper.jp/events/128696](https://javajo.doorkeeper.jp/events/128696)

## 議事録作成者
よこな

## 参加者(敬称略)
- まーや
- あや
- ちあき
- らみぃ
- ろぼ

## 議題にしたいこと or 前回の next action

★アイスブレイクの「今月のお題」は議事録作成者が決定する方向になりました！

- アイスブレイク
  - 名前
  - エンジニア的近況報告
  - 2021年一番楽しかったこと
- 前回のおさらい
- 今日やること
  - ローカル用DBとアプリの接続処理実装
  - DB周りのJavaコーディング引き続き

## 議事内容

- [PR#25](https://github.com/java-women/Ponsyukey/pull/25) をレビューした
    - LGTM! Thank you あやちゃん
    - SQLServerの起動もシェルスクリプトの中で実行できたほうが理想的(コンテナ起動後の処理を1箇所に集めたほうが分かりやすい)だとは思うけど、いったん動く形で進めようということに
- SakeRepository#getSakeが実装済みだったので、Serviceクラスから呼び出した
    - DIについてのミニ講座が開かれた。今回はRepositoryを外からInjectして使用した
- resultCodeの仕様を考えた (もちろん今後も必要に応じて何度も変更していく！)
    - 結論: resultCodeは抹消して、正常／異常の判断はHTTPステータスコードで行う。エラー時にerrorというオブジェクトだけを返すようにする
    - 理由: HTTPステータスコードとresultCodeが冗長だから(そんなに複雑じゃないので今のところステータスコード以上に細かく分ける必要もない)
    - 補足: 議論が割れた点として、IDから1件のデータをひいてくるようなAPIにおいてデータがなかった場合は404じゃなくて200+空レスポンスを返す
    - 参考: https://qiita.com/suin/items/f7ac4de914e9f3f35884, https://developer.ntt.com/ja/blog/6f5aa9be-7135-496a-9019-208a1562ad66
- リクエストパラメーターのバリデーション(存在チェック)を追加した
    - 参考: https://qiita.com/shotana/items/e18df97e821d207e642d

## 今回の成果

- ローカル環境が今度こそできた
- 1APIほぼ完成したかっ！？

## next action(タスク洗い出し)

- getSakeDetail APIのException Handlerを完成させ、テストを通す
- 他のAPIたちの実装に入る

## 議事録作成者の感想ひとこと
- つ　か　れ　た
- レスポンスの構成についてたくさん議論して勉強になりました
- ぽんしゅきーめんの中では自分は最初からかっちり作ろうとする傾向があるのかもしれないけど、やりすぎないよう適度に力を抜くべし…
- 次回のアイスブレイクお題は「2022年の目標」(ベタ)